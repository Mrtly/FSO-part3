{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","onSubmit","name","number","onNameChange","onNumberChange","type","baseUrl","axios","get","then","res","data","newPerson","post","person","put","id","delete","Persons","persons","setPersons","map","key","onClick","personToDelete","window","confirm","personsService","filter","handlePersonDelete","Notification","message","isError","classes","className","App","useState","newName","setNewName","newNumber","setNewNumber","filterName","setFilterName","notification","setNotification","useEffect","personService","initialPersons","personsToShow","toLowerCase","search","event","target","preventDefault","duplicatePersons","length","personToUpdate","trim","createdPerson","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c6d4ec7.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ value, onChange }) => {\n  return (\n    <div>\n      filter show with:\n      <input value={value} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  onSubmit,\n  name,\n  number,\n  onNameChange,\n  onNumberChange\n}) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input value={name} onChange={onNameChange} />\n      </div>\n      <div>\n        number: <input value={number} onChange={onNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\n\nconst baseUrl = \"http://localhost:3001/persons\";\n\nconst getAll = () => {\n  const req = axios.get(baseUrl);\n  return req.then(res => res.data);\n};\n\nconst create = newPerson => {\n  const req = axios.post(baseUrl, newPerson);\n  return req.then(res => res.data);\n};\n\nconst update = person => {\n  const req = axios.put(`${baseUrl}/${person.id}`, person);\n  return req.then(res => res.data);\n};\n\nconst deletePerson = id => {\n  const req = axios.delete(`${baseUrl}/${id}`);\n  return req.then(res => res.data);\n};\n\nexport default { getAll, create, update, deletePerson };\n","import React from \"react\";\nimport personsService from \"../services/persons\";\n\nconst Persons = ({ persons, setPersons }) => {\n  const handlePersonDelete = personToDelete => {\n    const { id, name } = personToDelete;\n    const answer = window.confirm(`Delete ${name}?`);\n    if (answer) {\n      personsService.deletePerson(id).then(data => {\n        setPersons(persons.filter(person => person.id !== id));\n      });\n    }\n  };\n\n  return (\n    <>\n      {persons.map(person => (\n        <p key={person.name}>\n          {person.name} {person.number}\n          <button\n            onClick={() => {\n              handlePersonDelete(person);\n            }}\n          >\n            delete\n          </button>\n        </p>\n      ))}\n    </>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message, isError = false }) => {\n  const classes = isError ? \"error\" : \"notification\";\n  return <p className={classes}>{message}</p>;\n};\n\nexport default Notification;","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterName, setFilterName] = useState(\"\");\n  const [notification, setNotification] = useState(\"\");\n\n  useEffect(() => {\n    //move the axios call to personService\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleNewNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterNameChange = event => {\n    setFilterName(event.target.value);\n  };\n\n  const handleNewPersonSubmit = event => {\n    event.preventDefault();\n    const duplicatePersons = persons.filter(person => person.name === newName);\n    if (duplicatePersons.length) {\n      const personToUpdate = duplicatePersons[0];\n      const replace = window.confirm(\n        `${personToUpdate.name} is already on the list, do you wish to replace the number?`\n      );\n      if (replace) {\n        personToUpdate.number = newNumber;\n        personService.update(personToUpdate).then(data => {\n          setPersons(\n            persons.map(person => {\n              return person.id === data.id ? data : person;\n            })\n          );\n          setNotification(`Updated ${personToUpdate.name}'s number`);\n        })\n      }\n    } else {\n      const newPerson = {\n        name: newName.trim(),\n        number: newNumber.trim(),\n        id: persons.length + 1\n      };\n\n      personService.create(newPerson).then(createdPerson => {\n        setPersons([...persons, createdPerson]);\n      });\n      setNotification(`Added ${newName}`);\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n    setTimeout(() => {\n      setNotification(\"\");\n    }, 3000);\n  };\n\n  const personsToShow = filterName\n    ? persons.filter(\n      person =>\n        person.name.toLowerCase().search(filterName.toLowerCase()) !== -1\n    )\n    : persons;\n\n  return (\n    <div>\n      <h2>phonebook</h2>\n      {notification ? <Notification message={notification} /> : null}\n\n      <Filter value={filterName} onChange={handleFilterNameChange} />\n\n      <h2>add new</h2>\n      <PersonForm\n        onSubmit={handleNewPersonSubmit}\n        name={newName}\n        number={newNumber}\n        onNameChange={handleNewNameChange}\n        onNumberChange={handleNewNumberChange}\n      />\n\n      <h2>numbers</h2>\n      <Persons persons={personsToShow} setPersons={setPersons} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}